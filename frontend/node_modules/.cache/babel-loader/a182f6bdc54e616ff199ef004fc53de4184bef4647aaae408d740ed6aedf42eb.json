{"ast":null,"code":"import { api } from \"../../helpers/api\";\n\n// redux/actions/authActions.js\nexport const signup = (name, email, password) => async dispatch => {\n  try {\n    const res = await fetch(\"http://localhost:5000/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name,\n        email,\n        password\n      })\n    });\n    const data = await res.json();\n    if (data.success) {\n      alert(data.message); // ✅ show success\n    } else {\n      alert(data.message); // ❌ show failure\n    }\n    return data;\n  } catch (err) {\n    alert(\"❌ Signup failed\");\n    throw err;\n  }\n};\n\n// Login\nexport const login = (email, password) => async dispatch => {\n  const {\n    user\n  } = await api(\"/auth/login\", {\n    method: \"POST\",\n    body: {\n      email,\n      password\n    }\n  });\n  dispatch({\n    type: \"AUTH/SET_USER\",\n    payload: user\n  });\n};\n\n// Restore session\nexport const fetchMe = () => async dispatch => {\n  const {\n    user\n  } = await api(\"/auth/me\");\n  dispatch({\n    type: \"AUTH/SET_USER\",\n    payload: user\n  });\n};\n\n// Logout\nexport const logout = () => async dispatch => {\n  try {\n    await api(\"/auth/logout\", {\n      method: \"POST\"\n    }); // hits backend now\n  } catch (e) {\n    console.warn(\"Logout API failed:\", e.message);\n  }\n  localStorage.removeItem(\"user\");\n  dispatch({\n    type: \"AUTH/SET_USER\",\n    payload: null\n  });\n};","map":{"version":3,"names":["api","signup","name","email","password","dispatch","res","fetch","method","headers","body","JSON","stringify","data","json","success","alert","message","err","login","user","type","payload","fetchMe","logout","e","console","warn","localStorage","removeItem"],"sources":["/Users/alaaabdalqader/Desktop/real-final/Real-Estate-Website-main-470e2a0e74fc6efb6cbe0f36a3a298f0f2961b28/frontend/src/pages/login.js"],"sourcesContent":["import { api } from \"../../helpers/api\";\n\n// redux/actions/authActions.js\nexport const signup = (name, email, password) => async (dispatch) => {\n  try {\n    const res = await fetch(\"http://localhost:5000/signup\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ name, email, password }),\n    });\n\n    const data = await res.json();\n\n    if (data.success) {\n      alert(data.message); // ✅ show success\n    } else {\n      alert(data.message); // ❌ show failure\n    }\n\n    return data;\n  } catch (err) {\n    alert(\"❌ Signup failed\");\n    throw err;\n  }\n};\n\n// Login\nexport const login = (email, password) => async (dispatch) => {\n  const { user } = await api(\"/auth/login\", { method: \"POST\", body: { email, password } });\n  dispatch({ type: \"AUTH/SET_USER\", payload: user });\n};\n\n// Restore session\nexport const fetchMe = () => async (dispatch) => {\n  const { user } = await api(\"/auth/me\");\n  dispatch({ type: \"AUTH/SET_USER\", payload: user });\n};\n\n// Logout\nexport const logout = () => async (dispatch) => {\n  try {\n    await api(\"/auth/logout\", { method: \"POST\" }); // hits backend now\n  } catch (e) {\n    console.warn(\"Logout API failed:\", e.message);\n  }\n  localStorage.removeItem(\"user\");\n  dispatch({ type: \"AUTH/SET_USER\", payload: null });\n};"],"mappings":"AAAA,SAASA,GAAG,QAAQ,mBAAmB;;AAEvC;AACA,OAAO,MAAMC,MAAM,GAAGA,CAACC,IAAI,EAAEC,KAAK,EAAEC,QAAQ,KAAK,MAAOC,QAAQ,IAAK;EACnE,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,8BAA8B,EAAE;MACtDC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEV,IAAI;QAAEC,KAAK;QAAEC;MAAS,CAAC;IAChD,CAAC,CAAC;IAEF,MAAMS,IAAI,GAAG,MAAMP,GAAG,CAACQ,IAAI,CAAC,CAAC;IAE7B,IAAID,IAAI,CAACE,OAAO,EAAE;MAChBC,KAAK,CAACH,IAAI,CAACI,OAAO,CAAC,CAAC,CAAC;IACvB,CAAC,MAAM;MACLD,KAAK,CAACH,IAAI,CAACI,OAAO,CAAC,CAAC,CAAC;IACvB;IAEA,OAAOJ,IAAI;EACb,CAAC,CAAC,OAAOK,GAAG,EAAE;IACZF,KAAK,CAAC,iBAAiB,CAAC;IACxB,MAAME,GAAG;EACX;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,KAAK,GAAGA,CAAChB,KAAK,EAAEC,QAAQ,KAAK,MAAOC,QAAQ,IAAK;EAC5D,MAAM;IAAEe;EAAK,CAAC,GAAG,MAAMpB,GAAG,CAAC,aAAa,EAAE;IAAEQ,MAAM,EAAE,MAAM;IAAEE,IAAI,EAAE;MAAEP,KAAK;MAAEC;IAAS;EAAE,CAAC,CAAC;EACxFC,QAAQ,CAAC;IAAEgB,IAAI,EAAE,eAAe;IAAEC,OAAO,EAAEF;EAAK,CAAC,CAAC;AACpD,CAAC;;AAED;AACA,OAAO,MAAMG,OAAO,GAAGA,CAAA,KAAM,MAAOlB,QAAQ,IAAK;EAC/C,MAAM;IAAEe;EAAK,CAAC,GAAG,MAAMpB,GAAG,CAAC,UAAU,CAAC;EACtCK,QAAQ,CAAC;IAAEgB,IAAI,EAAE,eAAe;IAAEC,OAAO,EAAEF;EAAK,CAAC,CAAC;AACpD,CAAC;;AAED;AACA,OAAO,MAAMI,MAAM,GAAGA,CAAA,KAAM,MAAOnB,QAAQ,IAAK;EAC9C,IAAI;IACF,MAAML,GAAG,CAAC,cAAc,EAAE;MAAEQ,MAAM,EAAE;IAAO,CAAC,CAAC,CAAC,CAAC;EACjD,CAAC,CAAC,OAAOiB,CAAC,EAAE;IACVC,OAAO,CAACC,IAAI,CAAC,oBAAoB,EAAEF,CAAC,CAACR,OAAO,CAAC;EAC/C;EACAW,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;EAC/BxB,QAAQ,CAAC;IAAEgB,IAAI,EAAE,eAAe;IAAEC,OAAO,EAAE;EAAK,CAAC,CAAC;AACpD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}